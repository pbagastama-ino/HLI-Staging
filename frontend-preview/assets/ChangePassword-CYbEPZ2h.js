import{y as F,r as x,x as $,m as C,c as D,o as r,w as h,a as e,b as n,d as p,e as M,u as t,l as j,f as i,t as w,h as V,i as k,n as u,z as v}from"./app-D_i4R_mt.js";import{_ as L}from"./AdminLayout-DG98k_k6.js";import"./hligp-logo-CGFychJV.js";const A={class:"max-w-2xl mx-auto"},N={class:"mb-6"},O={class:"flex items-center space-x-3"},U={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg relative"},q={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg relative"},E={class:"bg-white shadow-sm rounded-lg p-6"},S={class:"relative"},T=["type"],H={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Z={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},G={key:0,class:"mt-1 text-sm text-red-600"},I={class:"relative"},J=["type"],K={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Q={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},R={key:0,class:"mt-1 text-sm text-red-600"},W={class:"mt-2"},X={class:"text-xs text-gray-500 mt-1 space-y-1"},Y={class:"relative"},ee=["type"],se={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},te={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},oe={key:0,class:"mt-1 text-sm text-red-600"},re={key:1,class:"mt-1 text-sm text-red-600"},ne={class:"flex justify-end space-x-3"},ae=["disabled"],le={key:0,class:"flex items-center"},de={key:1},ce={__name:"ChangePassword",props:{user:Object},setup(B){const o=F({current_password:"",password:"",password_confirmation:""}),y=o.processing,l=o.errors,b=x(!0),g=x(!1),f=x(!1),m=x(!1);$(()=>{setTimeout(()=>{b.value=!1},5e3)});const c=C(()=>{const a=o.password;return{length:a.length>=8,uppercase:/[A-Z]/.test(a),lowercase:/[a-z]/.test(a),number:/\d/.test(a)}}),P=C(()=>o.current_password&&o.password&&o.password_confirmation&&o.password===o.password_confirmation&&Object.values(c.value).every(a=>a)),z=()=>{o.post("/hli-admin/change-password")},_=()=>{b.value=!1};return(a,s)=>(r(),D(L,{"current-page":"change-password",title:"Change Password","search-placeholder":"Search...",user:B.user},{default:h(()=>[e("div",A,[e("div",N,[e("div",O,[M(t(j),{href:"/hli-admin/profile",class:"text-gray-500 hover:text-gray-700"},{default:h(()=>[...s[6]||(s[6]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),s[7]||(s[7]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-800"},"Change Password"),e("p",{class:"text-gray-600"},"Update your account password")],-1))])]),a.$page.props.flash&&a.$page.props.flash.success?(r(),n("div",U,[e("button",{onClick:_,class:"absolute top-2 right-2 text-green-600 hover:text-green-800"},[...s[8]||(s[8]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),i(" "+w(a.$page.props.flash.success),1)])):p("",!0),a.$page.props.flash&&a.$page.props.flash.error?(r(),n("div",q,[e("button",{onClick:_,class:"absolute top-2 right-2 text-red-600 hover:text-red-800"},[...s[9]||(s[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),i(" "+w(a.$page.props.flash.error),1)])):p("",!0),e("div",E,[e("form",{onSubmit:V(z,["prevent"]),class:"space-y-6"},[e("div",null,[s[12]||(s[12]=e("label",{for:"current_password",class:"block text-sm font-medium text-gray-700 mb-2"},[i(" Current Password "),e("span",{class:"text-red-500"},"*")],-1)),e("div",S,[k(e("input",{id:"current_password","onUpdate:modelValue":s[0]||(s[0]=d=>t(o).current_password=d),type:g.value?"text":"password",required:"",class:u(["w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(l).current_password}]),placeholder:"Enter your current password"},null,10,T),[[v,t(o).current_password]]),e("button",{type:"button",onClick:s[1]||(s[1]=d=>g.value=!g.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[g.value?(r(),n("svg",H,[...s[10]||(s[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(r(),n("svg",Z,[...s[11]||(s[11]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),t(l).current_password?(r(),n("p",G,w(t(l).current_password),1)):p("",!0)]),e("div",null,[s[16]||(s[16]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},[i(" New Password "),e("span",{class:"text-red-500"},"*")],-1)),e("div",I,[k(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=d=>t(o).password=d),type:f.value?"text":"password",required:"",class:u(["w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(l).password}]),placeholder:"Enter your new password"},null,10,J),[[v,t(o).password]]),e("button",{type:"button",onClick:s[3]||(s[3]=d=>f.value=!f.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[f.value?(r(),n("svg",K,[...s[13]||(s[13]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(r(),n("svg",Q,[...s[14]||(s[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),t(l).password?(r(),n("p",R,w(t(l).password),1)):p("",!0),e("div",W,[s[15]||(s[15]=e("div",{class:"text-xs text-gray-500"}," Password must be at least 8 characters long and contain: ",-1)),e("ul",X,[e("li",{class:u(c.value.length?"text-green-600":"text-gray-500")}," ✓ At least 8 characters ",2),e("li",{class:u(c.value.uppercase?"text-green-600":"text-gray-500")}," ✓ One uppercase letter ",2),e("li",{class:u(c.value.lowercase?"text-green-600":"text-gray-500")}," ✓ One lowercase letter ",2),e("li",{class:u(c.value.number?"text-green-600":"text-gray-500")}," ✓ One number ",2)])])]),e("div",null,[s[19]||(s[19]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-2"},[i(" Confirm New Password "),e("span",{class:"text-red-500"},"*")],-1)),e("div",Y,[k(e("input",{id:"password_confirmation","onUpdate:modelValue":s[4]||(s[4]=d=>t(o).password_confirmation=d),type:m.value?"text":"password",required:"",class:u(["w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(l).password_confirmation}]),placeholder:"Confirm your new password"},null,10,ee),[[v,t(o).password_confirmation]]),e("button",{type:"button",onClick:s[5]||(s[5]=d=>m.value=!m.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[m.value?(r(),n("svg",se,[...s[17]||(s[17]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(r(),n("svg",te,[...s[18]||(s[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),t(l).password_confirmation?(r(),n("p",oe,w(t(l).password_confirmation),1)):p("",!0),t(o).password&&t(o).password_confirmation&&t(o).password!==t(o).password_confirmation?(r(),n("p",re," Passwords do not match ")):p("",!0)]),e("div",ne,[M(t(j),{href:"/hli-admin/profile",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95]"},{default:h(()=>[...s[20]||(s[20]=[i(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:t(y)||!P.value,class:"px-4 py-2 text-sm font-medium text-white bg-[#4D9F95] rounded-lg hover:bg-[#3d7f75] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95] disabled:opacity-50 disabled:cursor-not-allowed"},[t(y)?(r(),n("span",le,[...s[21]||(s[21]=[e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),i(" Changing... ",-1)])])):(r(),n("span",de,"Change Password"))],8,ae)])],32)])])]),_:1},8,["user"]))}};export{ce as default};
