import{c as v,o,w as l,a as t,e as x,u as f,l as p,t as n,f as m,b as a,d as w,n as c,F as b,g as k,k as u}from"./app-D_i4R_mt.js";import{_}from"./AdminLayout-DG98k_k6.js";import"./hligp-logo-CGFychJV.js";const D={class:"max-w-4xl mx-auto"},j={class:"mb-6"},C={class:"flex items-center justify-between"},S={class:"flex items-center space-x-3"},A={class:"text-xl font-semibold text-gray-800"},B={class:"flex space-x-3"},L={class:"grid grid-cols-1 lg:grid-cols-3 gap-6"},M={class:"lg:col-span-2"},N={class:"bg-white shadow-sm rounded-lg p-6"},$={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},V={class:"mt-1 text-sm text-gray-900"},F={class:"mt-1 text-sm text-gray-900 font-mono"},J={class:"sm:col-span-2"},T={class:"mt-1 text-sm text-gray-900"},z={class:"mt-1"},H={class:"mt-1 text-sm text-gray-900"},O={class:"mt-1 text-sm text-gray-900"},E={class:"mt-1 text-sm text-gray-900"},I={key:0,class:"mt-6 bg-white shadow-sm rounded-lg p-6"},U={class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},q={class:"bg-white divide-y divide-gray-200"},G={class:"px-6 py-4 whitespace-nowrap"},K={class:"text-sm font-medium text-gray-900"},P={class:"px-6 py-4 whitespace-nowrap"},R={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},W={class:"space-y-6"},X={class:"bg-white shadow-sm rounded-lg p-6"},Y={class:"space-y-3"},Z={class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},tt={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728L5.636 5.636m12.728 12.728L18.364 5.636M5.636 18.364l12.728-12.728"},et={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},st=["disabled"],nt={class:"bg-white shadow-sm rounded-lg p-6"},ot={class:"space-y-3"},dt={class:"flex justify-between"},at={class:"text-sm text-gray-900"},it={class:"flex justify-between"},rt={class:"text-sm text-gray-900"},ut={__name:"DepartmentShow",props:{department:Object,user:Object},setup(s){const i=s,r=g=>new Date(g).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),y=()=>{confirm(`Are you sure you want to ${i.department.is_active?"deactivate":"activate"} this department?`)&&u.patch(`/hli-admin/departments/${i.department.id}/toggle-status`,{},{onSuccess:()=>{}})},h=()=>{if(i.department.job_count>0){alert("Cannot delete department that has associated jobs.");return}confirm(`Are you sure you want to delete "${i.department.name}"? This action cannot be undone.`)&&u.delete(`/hli-admin/departments/${i.department.id}`,{onSuccess:()=>{u.visit("/hli-admin/departments")}})};return(g,e)=>(o(),v(_,{"current-page":"departments",title:"Department Details","search-placeholder":"Search...",user:s.user},{default:l(()=>[t("div",D,[t("div",j,[t("div",C,[t("div",S,[x(f(p),{href:"/hli-admin/departments",class:"text-gray-500 hover:text-gray-700"},{default:l(()=>[...e[0]||(e[0]=[t("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),t("div",null,[t("h2",A,n(s.department.name),1),e[1]||(e[1]=t("p",{class:"text-gray-600"},"Department Details",-1))])]),t("div",B,[x(f(p),{href:`/hli-admin/departments/${s.department.id}/edit`,class:"px-4 py-2 text-sm font-medium text-white bg-[#4D9F95] rounded-lg hover:bg-[#3d7f75] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95]"},{default:l(()=>[...e[2]||(e[2]=[t("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1),m(" Edit Department ",-1)])]),_:1},8,["href"])])])]),t("div",L,[t("div",M,[t("div",N,[e[10]||(e[10]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Department Information",-1)),t("dl",$,[t("div",null,[e[3]||(e[3]=t("dt",{class:"text-sm font-medium text-gray-500"},"Name",-1)),t("dd",V,n(s.department.name),1)]),t("div",null,[e[4]||(e[4]=t("dt",{class:"text-sm font-medium text-gray-500"},"Code",-1)),t("dd",F,n(s.department.code),1)]),t("div",J,[e[5]||(e[5]=t("dt",{class:"text-sm font-medium text-gray-500"},"Description",-1)),t("dd",T,n(s.department.description||"No description provided"),1)]),t("div",null,[e[6]||(e[6]=t("dt",{class:"text-sm font-medium text-gray-500"},"Status",-1)),t("dd",z,[t("span",{class:c(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",s.department.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},n(s.department.is_active?"Active":"Inactive"),3)])]),t("div",null,[e[7]||(e[7]=t("dt",{class:"text-sm font-medium text-gray-500"},"Sort Order",-1)),t("dd",H,n(s.department.sort_order),1)]),t("div",null,[e[8]||(e[8]=t("dt",{class:"text-sm font-medium text-gray-500"},"Created",-1)),t("dd",O,n(r(s.department.created_at)),1)]),t("div",null,[e[9]||(e[9]=t("dt",{class:"text-sm font-medium text-gray-500"},"Last Updated",-1)),t("dd",E,n(r(s.department.updated_at)),1)])])]),s.department.jobs&&s.department.jobs.length>0?(o(),a("div",I,[e[12]||(e[12]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Associated Jobs",-1)),t("div",U,[t("table",Q,[e[11]||(e[11]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Job Title"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Status"),t("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Created")])],-1)),t("tbody",q,[(o(!0),a(b,null,k(s.department.jobs,d=>(o(),a("tr",{key:d.id,class:"hover:bg-gray-50"},[t("td",G,[t("div",K,n(d.title),1)]),t("td",P,[t("span",{class:c(["inline-flex px-2 py-1 text-xs font-semibold rounded-full",d.status==="published"?"bg-green-100 text-green-800":d.status==="draft"?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"])},n(d.status),3)]),t("td",R,n(r(d.created_at)),1)]))),128))])])])])):w("",!0)]),t("div",W,[t("div",X,[e[14]||(e[14]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Quick Actions",-1)),t("div",Y,[t("button",{onClick:y,class:c(["w-full px-4 py-2 text-sm font-medium rounded-lg focus:outline-none focus:ring-2 focus:ring-offset-2",s.department.is_active?"text-yellow-700 bg-yellow-100 hover:bg-yellow-200 focus:ring-yellow-500":"text-green-700 bg-green-100 hover:bg-green-200 focus:ring-green-500"])},[(o(),a("svg",Z,[s.department.is_active?(o(),a("path",tt)):(o(),a("path",et))])),m(" "+n(s.department.is_active?"Deactivate":"Activate")+" Department ",1)],2),t("button",{onClick:h,class:"w-full px-4 py-2 text-sm font-medium text-red-700 bg-red-100 rounded-lg hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",disabled:s.department.job_count>0},[...e[13]||(e[13]=[t("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),m(" Delete Department ",-1)])],8,st)])]),t("div",nt,[e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Statistics",-1)),t("dl",ot,[t("div",dt,[e[15]||(e[15]=t("dt",{class:"text-sm font-medium text-gray-500"},"Total Jobs",-1)),t("dd",at,n(s.department.job_count||0),1)]),t("div",it,[e[16]||(e[16]=t("dt",{class:"text-sm font-medium text-gray-500"},"Active Jobs",-1)),t("dd",rt,n(s.department.active_job_count||0),1)])])])])])])]),_:1},8,["user"]))}};export{ut as default};
