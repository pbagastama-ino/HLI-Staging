import{y as V,r as h,x as $,m as U,c as z,o as n,w as v,a as e,b as l,d as u,e as F,u as t,l as _,t as d,f as m,h as E,i as g,n as p,j as x,z as j}from"./app-D_i4R_mt.js";import{_ as A}from"./AdminLayout-DG98k_k6.js";import"./hligp-logo-CGFychJV.js";const N={class:"max-w-4xl mx-auto"},P={class:"mb-6"},L={class:"flex items-center space-x-3"},O={class:"text-xl font-semibold text-gray-800"},q={class:"text-gray-600"},S={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg relative"},T={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg relative"},H={class:"bg-white shadow-sm rounded-lg p-6"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},G={key:0,class:"mt-1 text-sm text-red-600"},I={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},K={class:"relative"},Q=["type"],R={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},W={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"mt-2"},ee={class:"text-xs text-gray-500 mt-1 space-y-1"},se={class:"relative"},te=["type"],oe={key:0,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},re={key:1,class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne={key:0,class:"mt-1 text-sm text-red-600"},le={key:1,class:"mt-1 text-sm text-red-600"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={key:0,class:"mt-1 text-sm text-red-600"},de={key:0,class:"mt-1 text-sm text-red-600"},ue={key:0,class:"mt-1 text-sm text-red-600"},pe={class:"flex justify-end space-x-3"},ce=["disabled"],me={key:0,class:"flex items-center"},fe={key:1},we={__name:"UserForm",props:{user:Object,mode:String,currentUser:Object},setup(c){const f=c,o=V({name:f.user?.name||"",email:f.user?.email||"",password:"",password_confirmation:"",phone:f.user?.phone||"",position:f.user?.position||"",bio:f.user?.bio||""}),k=o.processing,r=o.errors,C=h(!0),w=h(!1),y=h(!1);$(()=>{setTimeout(()=>{C.value=!1},5e3)});const b=U(()=>{const i=o.password;return{length:i.length>=8,uppercase:/[A-Z]/.test(i),lowercase:/[a-z]/.test(i),number:/\d/.test(i)}}),B=U(()=>o.name&&o.email&&o.password&&o.password_confirmation&&o.password===o.password_confirmation&&Object.values(b.value).every(i=>i)),D=()=>{f.mode==="create"?o.post("/hli-admin/users"):o.put(`/hli-admin/users/${f.user.id}`)},M=()=>{C.value=!1};return(i,s)=>(n(),z(A,{"current-page":(c.mode==="create","users"),title:c.mode==="create"?"Add New User":"Edit User","search-placeholder":"Search...",user:c.currentUser},{default:v(()=>[e("div",N,[e("div",P,[e("div",L,[F(t(_),{href:"/hli-admin/users",class:"text-gray-500 hover:text-gray-700"},{default:v(()=>[...s[9]||(s[9]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])]),_:1}),e("div",null,[e("h2",O,d(c.mode==="create"?"Add New User":"Edit User"),1),e("p",q,d(c.mode==="create"?"Create a new user account":"Update user information"),1)])])]),i.$page.props.flash&&i.$page.props.flash.success?(n(),l("div",S,[e("button",{onClick:M,class:"absolute top-2 right-2 text-green-600 hover:text-green-800"},[...s[10]||(s[10]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),m(" "+d(i.$page.props.flash.success),1)])):u("",!0),i.$page.props.flash&&i.$page.props.flash.error?(n(),l("div",T,[e("button",{onClick:M,class:"absolute top-2 right-2 text-red-600 hover:text-red-800"},[...s[11]||(s[11]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),m(" "+d(i.$page.props.flash.error),1)])):u("",!0),e("div",H,[e("form",{onSubmit:E(D,["prevent"]),class:"space-y-6"},[e("div",Z,[e("div",null,[s[12]||(s[12]=e("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Full Name "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{id:"name","onUpdate:modelValue":s[0]||(s[0]=a=>t(o).name=a),type:"text",required:"",class:p(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).name}]),placeholder:"Enter full name"},null,2),[[x,t(o).name]]),t(r).name?(n(),l("p",G,d(t(r).name),1)):u("",!0)]),e("div",null,[s[13]||(s[13]=e("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Email Address "),e("span",{class:"text-red-500"},"*")],-1)),g(e("input",{id:"email","onUpdate:modelValue":s[1]||(s[1]=a=>t(o).email=a),type:"email",required:"",class:p(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).email}]),placeholder:"Enter email address"},null,2),[[x,t(o).email]]),t(r).email?(n(),l("p",I,d(t(r).email),1)):u("",!0)])]),c.mode==="create"?(n(),l("div",J,[e("div",null,[s[17]||(s[17]=e("label",{for:"password",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Password "),e("span",{class:"text-red-500"},"*")],-1)),e("div",K,[g(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=a=>t(o).password=a),type:w.value?"text":"password",required:"",class:p(["w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).password}]),placeholder:"Enter password"},null,10,Q),[[j,t(o).password]]),e("button",{type:"button",onClick:s[3]||(s[3]=a=>w.value=!w.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[w.value?(n(),l("svg",R,[...s[14]||(s[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(n(),l("svg",W,[...s[15]||(s[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),t(r).password?(n(),l("p",X,d(t(r).password),1)):u("",!0),e("div",Y,[s[16]||(s[16]=e("div",{class:"text-xs text-gray-500"}," Password must be at least 8 characters long and contain: ",-1)),e("ul",ee,[e("li",{class:p(b.value.length?"text-green-600":"text-gray-500")}," ✓ At least 8 characters ",2),e("li",{class:p(b.value.uppercase?"text-green-600":"text-gray-500")}," ✓ One uppercase letter ",2),e("li",{class:p(b.value.lowercase?"text-green-600":"text-gray-500")}," ✓ One lowercase letter ",2),e("li",{class:p(b.value.number?"text-green-600":"text-gray-500")}," ✓ One number ",2)])])]),e("div",null,[s[20]||(s[20]=e("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" Confirm Password "),e("span",{class:"text-red-500"},"*")],-1)),e("div",se,[g(e("input",{id:"password_confirmation","onUpdate:modelValue":s[4]||(s[4]=a=>t(o).password_confirmation=a),type:y.value?"text":"password",required:"",class:p(["w-full px-3 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).password_confirmation}]),placeholder:"Confirm password"},null,10,te),[[j,t(o).password_confirmation]]),e("button",{type:"button",onClick:s[5]||(s[5]=a=>y.value=!y.value),class:"absolute inset-y-0 right-0 pr-3 flex items-center"},[y.value?(n(),l("svg",oe,[...s[18]||(s[18]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"},null,-1)])])):(n(),l("svg",re,[...s[19]||(s[19]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1)])]))])]),t(r).password_confirmation?(n(),l("p",ne,d(t(r).password_confirmation),1)):u("",!0),t(o).password&&t(o).password_confirmation&&t(o).password!==t(o).password_confirmation?(n(),l("p",le," Passwords do not match ")):u("",!0)])])):u("",!0),e("div",ae,[e("div",null,[s[21]||(s[21]=e("label",{for:"phone",class:"block text-sm font-medium text-gray-700 mb-2"}," Phone Number ",-1)),g(e("input",{id:"phone","onUpdate:modelValue":s[6]||(s[6]=a=>t(o).phone=a),type:"tel",class:p(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).phone}]),placeholder:"Enter phone number"},null,2),[[x,t(o).phone]]),t(r).phone?(n(),l("p",ie,d(t(r).phone),1)):u("",!0)]),e("div",null,[s[22]||(s[22]=e("label",{for:"position",class:"block text-sm font-medium text-gray-700 mb-2"}," Position ",-1)),g(e("input",{id:"position","onUpdate:modelValue":s[7]||(s[7]=a=>t(o).position=a),type:"text",class:p(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).position}]),placeholder:"Enter position"},null,2),[[x,t(o).position]]),t(r).position?(n(),l("p",de,d(t(r).position),1)):u("",!0)])]),e("div",null,[s[23]||(s[23]=e("label",{for:"bio",class:"block text-sm font-medium text-gray-700 mb-2"}," Bio ",-1)),g(e("textarea",{id:"bio","onUpdate:modelValue":s[8]||(s[8]=a=>t(o).bio=a),rows:"4",class:p(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":t(r).bio}]),placeholder:"Tell us about this user"},null,2),[[x,t(o).bio]]),t(r).bio?(n(),l("p",ue,d(t(r).bio),1)):u("",!0)]),e("div",pe,[F(t(_),{href:"/hli-admin/users",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95]"},{default:v(()=>[...s[24]||(s[24]=[m(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:t(k)||c.mode==="create"&&!B.value,class:"px-4 py-2 text-sm font-medium text-white bg-[#4D9F95] rounded-lg hover:bg-[#3d7f75] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95] disabled:opacity-50 disabled:cursor-not-allowed"},[t(k)?(n(),l("span",me,[s[25]||(s[25]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),m(" "+d(c.mode==="create"?"Creating...":"Updating..."),1)])):(n(),l("span",fe,d(c.mode==="create"?"Create User":"Update User"),1))],8,ce)])],32)])])]),_:1},8,["current-page","title","user"]))}};export{we as default};
