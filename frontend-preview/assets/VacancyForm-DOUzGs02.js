import{r as x,y as q,x as F,c as M,o as l,w as h,a as e,b as d,d as f,t as o,e as k,u as n,l as C,f as u,h as D,i as v,n as b,j as y}from"./app-D_i4R_mt.js";import{_ as B}from"./AdminLayout-DG98k_k6.js";import"./hligp-logo-CGFychJV.js";const _={class:"mb-6"},$={class:"flex justify-between items-center"},j={class:"text-xl font-semibold text-gray-800"},N={class:"text-sm text-gray-600 mt-1"},U={class:"flex space-x-3"},E={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg relative"},S={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg relative"},T={class:"bg-white shadow-sm rounded-lg p-6"},z={class:"space-y-6"},L={key:0,class:"mt-1 text-sm text-red-600"},A={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},O={key:0,class:"mt-1 text-sm text-red-600"},H={class:"flex justify-end space-x-3"},I=["disabled"],P={key:0,class:"flex items-center"},R={key:1},W={__name:"VacancyForm",props:{vacancy:Object,user:Object},setup(i){const p=i,g=x(!0),c=x(!1),r=q({title:p.vacancy?.title||"",requirements:p.vacancy?.requirements||"",description:p.vacancy?.description||"",department_name:p.vacancy?.department_name||""}),s=x({}),V=()=>{c.value=!0,s.value={},p.vacancy?r.put(`/hli-admin/vacancies/${p.vacancy.id}`,{onSuccess:()=>{c.value=!1},onError:a=>{s.value=a,c.value=!1}}):r.post("/hli-admin/vacancies",{onSuccess:()=>{c.value=!1},onError:a=>{s.value=a,c.value=!1}})},w=()=>{g.value=!1};return F(()=>{setTimeout(()=>{g.value=!1},5e3)}),(a,t)=>(l(),M(B,{"current-page":(i.vacancy,"vacancies"),title:i.vacancy?"Edit Vacancy":"Create New Vacancy",user:i.user},{default:h(()=>[e("div",_,[e("div",$,[e("div",null,[e("h2",j,o(i.vacancy?"Edit Vacancy":"Create New Vacancy"),1),e("p",N,o(i.vacancy?"Update vacancy posting details":"Add a new career opportunity"),1)]),e("div",U,[k(n(C),{href:"/hli-admin/vacancies",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},{default:h(()=>[...t[4]||(t[4]=[u(" Cancel ",-1)])]),_:1})])])]),g.value&&a.$page.props.flash&&a.$page.props.flash.success?(l(),d("div",E,[e("button",{onClick:w,class:"absolute top-2 right-2 text-green-600 hover:text-green-800"},[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),u(" "+o(a.$page.props.flash.success),1)])):f("",!0),g.value&&a.$page.props.flash&&a.$page.props.flash.error?(l(),d("div",S,[e("button",{onClick:w,class:"absolute top-2 right-2 text-red-600 hover:text-red-800"},[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),u(" "+o(a.$page.props.flash.error),1)])):f("",!0),e("form",{onSubmit:D(V,["prevent"]),class:"space-y-6"},[e("div",T,[t[11]||(t[11]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basic Information",-1)),e("div",z,[e("div",null,[t[7]||(t[7]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Job Title "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{id:"title","onUpdate:modelValue":t[0]||(t[0]=m=>n(r).title=m),type:"text",required:"",class:b(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":s.value.title}])},null,2),[[y,n(r).title]]),s.value.title?(l(),d("div",L,o(s.value.title),1)):f("",!0)]),e("div",null,[t[8]||(t[8]=e("label",{for:"department_name",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Department Name "),e("span",{class:"text-red-500"},"*")],-1)),v(e("input",{id:"department_name","onUpdate:modelValue":t[1]||(t[1]=m=>n(r).department_name=m),type:"text",required:"",placeholder:"e.g., Engineering, Marketing, Sales",class:b(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":s.value.department_name}])},null,2),[[y,n(r).department_name]]),s.value.department_name?(l(),d("div",A,o(s.value.department_name),1)):f("",!0)]),e("div",null,[t[9]||(t[9]=e("label",{for:"requirements",class:"block text-sm font-medium text-gray-700 mb-2"}," Requirements ",-1)),v(e("textarea",{id:"requirements","onUpdate:modelValue":t[2]||(t[2]=m=>n(r).requirements=m),rows:"4",placeholder:"List the key requirements for this position...",class:b(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":s.value.requirements}])},null,2),[[y,n(r).requirements]]),s.value.requirements?(l(),d("div",J,o(s.value.requirements),1)):f("",!0)]),e("div",null,[t[10]||(t[10]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700 mb-2"},[u(" Job Description "),e("span",{class:"text-red-500"},"*")],-1)),v(e("textarea",{id:"description","onUpdate:modelValue":t[3]||(t[3]=m=>n(r).description=m),rows:"6",required:"",placeholder:"Provide a detailed description of the role, responsibilities, and what the candidate will be doing...",class:b(["w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent",{"border-red-500":s.value.description}])},null,2),[[y,n(r).description]]),s.value.description?(l(),d("div",O,o(s.value.description),1)):f("",!0)])])]),e("div",H,[k(n(C),{href:"/hli-admin/vacancies",class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500"},{default:h(()=>[...t[12]||(t[12]=[u(" Cancel ",-1)])]),_:1}),e("button",{type:"submit",disabled:c.value,class:"px-4 py-2 text-sm font-medium text-white bg-[#4D9F95] rounded-lg hover:bg-[#3d7f75] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95] disabled:opacity-50 disabled:cursor-not-allowed"},[c.value?(l(),d("span",P,[t[13]||(t[13]=e("svg",{class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),u(" "+o(i.vacancy?"Updating...":"Creating..."),1)])):(l(),d("span",R,o(i.vacancy?"Update Vacancy":"Create Vacancy"),1))],8,I)])],32)]),_:1},8,["current-page","title","user"]))}};export{W as default};
