import{r as m,m as k,x as Q,c as G,o as r,w as C,a as t,b as l,d as c,e as M,u as $,l as B,f as p,t as i,i as K,j as R,F as L,g as j,n as v,k as D}from"./app-DANtfWd9.js";import{_ as W}from"./AdminLayout-Bkg2zEiT.js";import"./hligp-logo-CGFychJV.js";const X={class:"mb-6"},Y={class:"flex justify-between items-center"},Z={class:"flex space-x-3"},ee={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg relative"},te={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg relative"},se={class:"mb-6"},oe={class:"max-w-md"},re={class:"bg-white shadow-sm rounded-lg overflow-hidden"},ne={class:"overflow-x-auto"},le={class:"min-w-full divide-y divide-gray-200"},ae={class:"bg-gray-50"},ie={class:"flex items-center space-x-1"},de={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ue={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},ce={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},pe={class:"flex items-center space-x-1"},ve={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ge={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},he={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},xe={class:"flex items-center space-x-1"},me={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ye={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},fe={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},ke={class:"flex items-center space-x-1"},we={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},be={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},_e={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},Ce={class:"flex items-center space-x-1"},Me={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},$e={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},Be={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},Le={class:"flex items-center space-x-1"},De={key:0,class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Fe={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},Se={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},Te={class:"bg-white divide-y divide-gray-200"},je={class:"px-6 py-4 whitespace-nowrap"},Ve={class:"flex items-center"},Ae={class:"text-sm font-medium text-gray-900"},Pe={key:0,class:"ml-2 inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},ze={class:"text-sm text-gray-500"},Je={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ne={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},He={class:"px-6 py-4 whitespace-nowrap"},Oe={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900"},Ue={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500"},Ee={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},Ie={class:"flex items-center justify-end space-x-2"},qe=["onClick"],Qe=["onClick"],Ge=["onClick"],Ke={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Re={class:"flex items-center justify-between"},We={class:"flex-1 flex justify-between sm:hidden"},Xe=["disabled"],Ye=["disabled"],Ze={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},et={class:"text-sm text-gray-700"},tt={class:"font-medium"},st={class:"font-medium"},ot={class:"font-medium"},rt={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},nt=["disabled"],lt=["onClick"],at={key:1,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700"},it=["disabled"],pt={__name:"CareerJobs",props:{jobs:Object,departments:Array,filters:Object,user:Object},setup(F){const S=F,w=m(S.filters?.search||""),b=m(!0),d=m("created_at"),u=m("desc"),a=m(1),y=m(10),V=k(()=>S.jobs.data||[]),_=k(()=>{let o=V.value;if(w.value){const e=w.value.toLowerCase();o=o.filter(s=>s.title.toLowerCase().includes(e)||s.description.toLowerCase().includes(e)||s.location.toLowerCase().includes(e)||s.employment_type.toLowerCase().includes(e)||s.experience_level.toLowerCase().includes(e)||s.department?.name&&s.department.name.toLowerCase().includes(e))}return o.sort((e,s)=>{let n,h;switch(d.value){case"department":n=e.department?.name||"",h=s.department?.name||"";break;case"application_count":n=e.application_count||e.applications_count||0,h=s.application_count||s.applications_count||0;break;default:n=e[d.value]||"",h=s[d.value]||""}return typeof n=="string"&&(n=n.toLowerCase(),h=h.toLowerCase()),u.value==="asc"?n>h?1:-1:n<h?1:-1}),o}),g=k(()=>Math.ceil(_.value.length/y.value)),A=k(()=>{const o=(a.value-1)*y.value,e=o+y.value;return _.value.slice(o,e)}),P=k(()=>{const o=[],e=g.value,s=a.value;if(e<=7)for(let n=1;n<=e;n++)o.push(n);else if(s<=4){for(let n=1;n<=5;n++)o.push(n);o.push("..."),o.push(e)}else if(s>=e-3){o.push(1),o.push("...");for(let n=e-4;n<=e;n++)o.push(n)}else{o.push(1),o.push("...");for(let n=s-1;n<=s+1;n++)o.push(n);o.push("..."),o.push(e)}return o}),z=()=>{a.value=1},x=o=>{d.value===o?u.value=u.value==="asc"?"desc":"asc":(d.value=o,u.value="asc"),a.value=1},f=o=>{o>=1&&o<=g.value&&(a.value=o)},T=()=>{b.value=!1},J=o=>({draft:"bg-gray-100 text-gray-800",published:"bg-green-100 text-green-800",closed:"bg-yellow-100 text-yellow-800",archived:"bg-red-100 text-red-800"})[o]||"bg-gray-100 text-gray-800",N=o=>({draft:"bg-green-100 text-green-800 hover:bg-green-200",published:"bg-yellow-100 text-yellow-800 hover:bg-yellow-200",closed:"bg-red-100 text-red-800 hover:bg-red-200",archived:"bg-gray-100 text-gray-800 hover:bg-gray-200"})[o]||"bg-gray-100 text-gray-800 hover:bg-gray-200",H=o=>({draft:"Publish",published:"Close",closed:"Archive",archived:"Draft"})[o]||"Toggle",O=o=>{D.patch(`/hli-admin/career-jobs/${o.id}/toggle-status`,{},{preserveState:!0})},U=o=>{D.patch(`/hli-admin/career-jobs/${o.id}/toggle-featured`,{},{preserveState:!0})},E=o=>{confirm(`Are you sure you want to delete "${o.title}"? This action cannot be undone.`)&&D.delete(`/hli-admin/career-jobs/${o.id}`,{preserveState:!0})},I=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),q=o=>({"full-time":"Full Time","part-time":"Part Time",contract:"Contract",internship:"Internship"})[o]||o||"N/A";return Q(()=>{setTimeout(()=>{b.value=!1},5e3)}),(o,e)=>(r(),G(W,{"current-page":"career-jobs",title:"Vacancy Management","search-placeholder":"Search vacancies...",user:F.user},{default:C(()=>[t("div",X,[t("div",Y,[e[12]||(e[12]=t("div",null,[t("h2",{class:"text-xl font-semibold text-gray-800"},"Vacancies"),t("p",{class:"text-sm text-gray-600 mt-1"},"Manage job postings and career opportunities")],-1)),t("div",Z,[M($(B),{href:"/hli-admin/career-jobs/create",class:"px-4 py-2 text-sm font-medium text-white bg-[#4D9F95] rounded-lg hover:bg-[#3d7f75] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95]"},{default:C(()=>[...e[11]||(e[11]=[t("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),p(" Add Vacancy ",-1)])]),_:1})])])]),b.value&&o.$page.props.flash&&o.$page.props.flash.success?(r(),l("div",ee,[t("button",{onClick:T,class:"absolute top-2 right-2 text-green-600 hover:text-green-800"},[...e[13]||(e[13]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),p(" "+i(o.$page.props.flash.success),1)])):c("",!0),b.value&&o.$page.props.flash&&o.$page.props.flash.error?(r(),l("div",te,[t("button",{onClick:T,class:"absolute top-2 right-2 text-red-600 hover:text-red-800"},[...e[14]||(e[14]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),p(" "+i(o.$page.props.flash.error),1)])):c("",!0),t("div",se,[t("div",oe,[K(t("input",{"onUpdate:modelValue":e[0]||(e[0]=s=>w.value=s),onInput:z,type:"text",placeholder:"Search jobs...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent"},null,544),[[R,w.value]])])]),t("div",re,[t("div",ne,[t("table",le,[t("thead",ae,[t("tr",null,[t("th",{onClick:e[1]||(e[1]=s=>x("title")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100"},[t("div",ie,[e[15]||(e[15]=t("span",null,"Job Title",-1)),d.value==="title"?(r(),l("svg",de,[u.value==="asc"?(r(),l("path",ue)):(r(),l("path",ce))])):c("",!0)])]),t("th",{onClick:e[2]||(e[2]=s=>x("department")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100"},[t("div",pe,[e[16]||(e[16]=t("span",null,"Department",-1)),d.value==="department"?(r(),l("svg",ve,[u.value==="asc"?(r(),l("path",ge)):(r(),l("path",he))])):c("",!0)])]),t("th",{onClick:e[3]||(e[3]=s=>x("employment_type")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100"},[t("div",xe,[e[17]||(e[17]=t("span",null,"Type",-1)),d.value==="employment_type"?(r(),l("svg",me,[u.value==="asc"?(r(),l("path",ye)):(r(),l("path",fe))])):c("",!0)])]),t("th",{onClick:e[4]||(e[4]=s=>x("status")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100"},[t("div",ke,[e[18]||(e[18]=t("span",null,"Status",-1)),d.value==="status"?(r(),l("svg",we,[u.value==="asc"?(r(),l("path",be)):(r(),l("path",_e))])):c("",!0)])]),t("th",{onClick:e[5]||(e[5]=s=>x("application_count")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100"},[t("div",Ce,[e[19]||(e[19]=t("span",null,"Applications",-1)),d.value==="application_count"?(r(),l("svg",Me,[u.value==="asc"?(r(),l("path",$e)):(r(),l("path",Be))])):c("",!0)])]),t("th",{onClick:e[6]||(e[6]=s=>x("created_at")),class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100"},[t("div",Le,[e[20]||(e[20]=t("span",null,"Created",-1)),d.value==="created_at"?(r(),l("svg",De,[u.value==="asc"?(r(),l("path",Fe)):(r(),l("path",Se))])):c("",!0)])]),e[21]||(e[21]=t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ",-1))])]),t("tbody",Te,[(r(!0),l(L,null,j(A.value,s=>(r(),l("tr",{key:s.id,class:"hover:bg-gray-50"},[t("td",je,[t("div",Ve,[t("div",null,[t("div",Ae,[p(i(s.title)+" ",1),s.featured?(r(),l("span",Pe," Featured ")):c("",!0)]),t("div",ze,i(s.location),1)])])]),t("td",Je,i(s.department?.name||"N/A"),1),t("td",Ne,i(s.employment_type_display||q(s.employment_type)),1),t("td",He,[t("span",{class:v([J(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},i(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),t("td",Oe,i(s.application_count||s.applications_count||0),1),t("td",Ue,i(I(s.created_at)),1),t("td",Ee,[t("div",Ie,[M($(B),{href:`/hli-admin/career-jobs/${s.id}`,class:"text-[#4D9F95] hover:text-[#3d7f75]"},{default:C(()=>[...e[22]||(e[22]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["href"]),M($(B),{href:`/hli-admin/career-jobs/${s.id}/edit`,class:"text-blue-600 hover:text-blue-900"},{default:C(()=>[...e[23]||(e[23]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])]),_:1},8,["href"]),t("button",{onClick:n=>O(s),class:v([N(s.status),"text-xs px-2 py-1 rounded"])},i(H(s.status)),11,qe),t("button",{onClick:n=>U(s),class:v(s.featured?"text-yellow-600 hover:text-yellow-900":"text-gray-400 hover:text-gray-600")},[...e[24]||(e[24]=[t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})],-1)])],10,Qe),t("button",{onClick:n=>E(s),class:"text-red-600 hover:text-red-900"},[...e[25]||(e[25]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,Ge)])])]))),128))])])]),g.value>1?(r(),l("div",Ke,[t("div",Re,[t("div",We,[t("button",{onClick:e[7]||(e[7]=s=>f(a.value-1)),disabled:a.value===1,class:v(["relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md",a.value===1?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"])}," Previous ",10,Xe),t("button",{onClick:e[8]||(e[8]=s=>f(a.value+1)),disabled:a.value===g.value,class:v(["ml-3 relative inline-flex items-center px-4 py-2 border text-sm font-medium rounded-md",a.value===g.value?"bg-gray-100 border-gray-300 text-gray-400 cursor-not-allowed":"bg-white border-gray-300 text-gray-700 hover:bg-gray-50"])}," Next ",10,Ye)]),t("div",Ze,[t("div",null,[t("p",et,[e[26]||(e[26]=p(" Showing ",-1)),t("span",tt,i((a.value-1)*y.value+1),1),e[27]||(e[27]=p(" to ",-1)),t("span",st,i(Math.min(a.value*y.value,_.value.length)),1),e[28]||(e[28]=p(" of ",-1)),t("span",ot,i(_.value.length),1),e[29]||(e[29]=p(" results ",-1))])]),t("div",null,[t("nav",rt,[t("button",{onClick:e[9]||(e[9]=s=>f(a.value-1)),disabled:a.value===1,class:v(["relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 text-sm font-medium",a.value===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-500 hover:bg-gray-50"])},[...e[30]||(e[30]=[t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)])],10,nt),(r(!0),l(L,null,j(P.value,s=>(r(),l(L,{key:s},[s!=="..."?(r(),l("button",{key:0,onClick:n=>f(s),class:v(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s===a.value?"z-10 bg-[#4D9F95] border-[#4D9F95] text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"])},i(s),11,lt)):(r(),l("span",at," ... "))],64))),128)),t("button",{onClick:e[10]||(e[10]=s=>f(a.value+1)),disabled:a.value===g.value,class:v(["relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 text-sm font-medium",a.value===g.value?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-500 hover:bg-gray-50"])},[...e[31]||(e[31]=[t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)])],10,it)])])])])])):c("",!0)])]),_:1},8,["user"]))}};export{pt as default};
