import{r as m,q as R,x as Q,c as w,o,w as g,a as e,b as n,d as c,e as F,u,l as p,f as l,t as i,i as k,j as G,v as j,F as S,g as $,n as _,k as h}from"./app-DANtfWd9.js";import{_ as J}from"./AdminLayout-Bkg2zEiT.js";import"./hligp-logo-CGFychJV.js";const K={class:"mb-6"},W={class:"flex justify-between items-center"},X={class:"flex space-x-3"},Y={key:0,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg relative"},Z={key:1,class:"mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg relative"},ee={key:2,class:"mb-4 p-4 bg-green-100 border border-green-400 text-green-700 rounded-lg relative"},te={class:"mb-6"},se={class:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 lg:space-x-4"},re={class:"max-w-md"},oe={class:"flex flex-wrap items-center space-x-4"},le={class:"bg-white rounded-lg shadow overflow-hidden"},ae={class:"overflow-x-auto"},ne={class:"min-w-full divide-y divide-gray-200"},ie={class:"bg-white divide-y divide-gray-200"},de={class:"px-6 py-4 whitespace-nowrap"},ue={class:"flex items-center"},ce={class:"flex-shrink-0 h-12 w-12"},ge=["src","alt"],pe={key:1,class:"h-12 w-12 rounded-lg bg-gray-200 flex items-center justify-center"},fe={class:"ml-4"},xe={class:"text-sm font-medium text-gray-900"},me={class:"text-sm text-gray-500"},he={class:"px-6 py-4 whitespace-nowrap"},ye={class:"px-6 py-4 whitespace-nowrap"},be={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 hidden md:table-cell"},ve={class:"px-6 py-4 whitespace-nowrap hidden lg:table-cell"},we=["onClick"],ke={key:0,class:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20"},_e={key:1,class:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},Ce={class:"px-6 py-4 whitespace-nowrap text-sm font-medium"},De={class:"flex items-center space-x-2"},Fe=["onClick"],je={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Me={class:"flex items-center justify-between"},Le={class:"flex-1 flex justify-between sm:hidden"},Pe={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},Be={class:"text-sm text-gray-700"},Se={class:"font-medium"},$e={class:"font-medium"},Ae={class:"font-medium"},Te={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},Ve={key:3,class:"fixed inset-0 z-[9999] flex items-center justify-center bg-[#4D9F95]/70 backdrop-blur-sm"},Ne={class:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4"},ze={class:"p-6"},Ue={class:"text-center"},He={class:"text-sm text-gray-500 mb-6"},qe={__name:"Publications",props:{publications:{type:Object,default:()=>({data:[],links:null,from:0,to:0,total:0})},filters:{type:Object,default:()=>({})},user:{type:Object,required:!0}},setup(a){const A=(r,t)=>{let s;return function(...I){const q=()=>{clearTimeout(s),r(...I)};clearTimeout(s),s=setTimeout(q,t)}},y=a,b=m(y.filters?.search||""),d=R({status:y.filters?.status||"",category:y.filters?.category||"",featured:y.filters?.featured||""}),v=m(!0),C=m(!1),f=m(null),D=m(!1),M=A(()=>{x()},300),x=()=>{const r={search:b.value,...d};Object.keys(r).forEach(t=>{(r[t]===""||r[t]===null)&&delete r[t]}),h.get("/hli-admin/publications",r,{replace:!0})},T=()=>{b.value="",d.status="",d.category="",d.featured="",x()},L=()=>{v.value=!1},V=r=>{switch(r){case"draft":return"bg-gray-100 text-gray-800";case"published":return"bg-green-100 text-green-800";case"archived":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},N=r=>{switch(r){case"press-release":return"bg-purple-100 text-purple-800";case"company-activities":return"bg-blue-100 text-blue-800";case"life-at-hli":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},z=r=>{switch(r){case"press-release":return"Press Release";case"company-activities":return"Company Activities";case"life-at-hli":return"Life at HLI";default:return r?r.charAt(0).toUpperCase()+r.slice(1).replace("-"," "):"N/A"}},U=r=>r?new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Not set",H=r=>{h.patch(`/hli-admin/publications/${r.id}/toggle-featured`,{},{onSuccess:()=>{h.reload()}})},O=r=>{f.value=r,C.value=!0},P=()=>{C.value=!1,f.value=null},E=()=>{f.value&&h.delete(`/hli-admin/publications/${f.value.id}`,{onSuccess:()=>{P(),D.value=!0,setTimeout(()=>{D.value=!1},3e3),h.reload()}})};return Q(()=>{setTimeout(()=>{v.value=!1},5e3)}),(r,t)=>(o(),w(J,{"current-page":"publications",title:"Publication Management","search-placeholder":"Search publications...",user:a.user},{default:g(()=>[e("div",K,[e("div",W,[t[6]||(t[6]=e("div",null,[e("h2",{class:"text-xl font-semibold text-gray-800"},"Publications"),e("p",{class:"text-sm text-gray-600 mt-1"},"Manage company publications and activities")],-1)),e("div",X,[F(u(p),{href:"/hli-admin/publications/create",class:"px-4 py-2 text-sm font-medium text-white bg-[#4D9F95] rounded-lg hover:bg-[#3d7f75] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#4D9F95]"},{default:g(()=>[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),l(" Add Publication ",-1)])]),_:1})])])]),v.value&&r.$page.props.flash&&r.$page.props.flash.success?(o(),n("div",Y,[e("button",{onClick:L,class:"absolute top-2 right-2 text-green-600 hover:text-green-800"},[...t[7]||(t[7]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),l(" "+i(r.$page.props.flash.success),1)])):c("",!0),v.value&&r.$page.props.flash&&r.$page.props.flash.error?(o(),n("div",Z,[e("button",{onClick:L,class:"absolute top-2 right-2 text-red-600 hover:text-red-800"},[...t[8]||(t[8]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),l(" "+i(r.$page.props.flash.error),1)])):c("",!0),D.value?(o(),n("div",ee,[...t[9]||(t[9]=[e("div",{class:"flex items-center"},[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})]),l(" Publication deleted successfully! ")],-1)])])):c("",!0),e("div",te,[e("div",se,[e("div",re,[k(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>b.value=s),onInput:t[1]||(t[1]=(...s)=>u(M)&&u(M)(...s)),type:"text",placeholder:"Search publications...",class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent"},null,544),[[G,b.value]])]),e("div",oe,[k(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.status=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent"},[...t[10]||(t[10]=[e("option",{value:""},"All Status",-1),e("option",{value:"draft"},"Draft",-1),e("option",{value:"published"},"Published",-1),e("option",{value:"archived"},"Archived",-1)])],544),[[j,d.status]]),k(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>d.category=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent"},[...t[11]||(t[11]=[e("option",{value:""},"All Categories",-1),e("option",{value:"press-release"},"Press Release",-1),e("option",{value:"company-activities"},"Company Activities",-1),e("option",{value:"life-at-hli"},"Life at HLI",-1)])],544),[[j,d.category]]),k(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>d.featured=s),onChange:x,class:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#4D9F95] focus:border-transparent"},[...t[12]||(t[12]=[e("option",{value:""},"All",-1),e("option",{value:"1"},"Featured",-1),e("option",{value:"0"},"Not Featured",-1)])],544),[[j,d.featured]]),e("button",{onClick:T,class:"px-3 py-2 text-sm text-gray-600 hover:text-gray-800 border border-gray-300 rounded-lg hover:bg-gray-50"}," Clear Filters ")])])]),e("div",le,[e("div",ae,[e("table",ne,[t[18]||(t[18]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Publication "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Category "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Status "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden md:table-cell"}," Published Date "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider hidden lg:table-cell"}," Featured "),e("th",{class:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"}," Actions ")])],-1)),e("tbody",ie,[(o(!0),n(S,null,$(a.publications.data,s=>(o(),n("tr",{key:s.id,class:"hover:bg-gray-50"},[e("td",de,[e("div",ue,[e("div",ce,[s.image?(o(),n("img",{key:0,src:s.image_url,alt:s.title,class:"h-12 w-12 rounded-lg object-cover"},null,8,ge)):(o(),n("div",pe,[...t[13]||(t[13]=[e("svg",{class:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)])]))]),e("div",fe,[e("div",xe,i(s.title),1),e("div",me,i(s.excerpt),1)])])]),e("td",he,[e("span",{class:_(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",N(s.category)])},i(z(s.category)),3)]),e("td",ye,[e("span",{class:_(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",V(s.status)])},i(s.status.charAt(0).toUpperCase()+s.status.slice(1)),3)]),e("td",be,i(U(s.published_date)),1),e("td",ve,[e("button",{onClick:B=>H(s),class:_(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium transition-colors",s.featured?"bg-yellow-100 text-yellow-800 hover:bg-yellow-200":"bg-gray-100 text-gray-800 hover:bg-gray-200"])},[s.featured?(o(),n("svg",ke,[...t[14]||(t[14]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])])):(o(),n("svg",_e,[...t[15]||(t[15]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"},null,-1)])])),l(" "+i(s.featured?"Featured":"Not Featured"),1)],10,we)]),e("td",Ce,[e("div",De,[F(u(p),{href:`/hli-admin/publications/${s.id}`,class:"text-[#4D9F95] hover:text-[#3d7f75]"},{default:g(()=>[...t[16]||(t[16]=[l(" View ",-1)])]),_:1},8,["href"]),F(u(p),{href:`/hli-admin/publications/${s.id}/edit`,class:"text-blue-600 hover:text-blue-900"},{default:g(()=>[...t[17]||(t[17]=[l(" Edit ",-1)])]),_:1},8,["href"]),e("button",{onClick:B=>O(s),class:"text-red-600 hover:text-red-900"}," Delete ",8,Fe)])])]))),128))])])]),a.publications.links?(o(),n("div",je,[e("div",Me,[e("div",Le,[a.publications.prev_page_url?(o(),w(u(p),{key:0,href:a.publications.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>[...t[19]||(t[19]=[l(" Previous ",-1)])]),_:1},8,["href"])):c("",!0),a.publications.next_page_url?(o(),w(u(p),{key:1,href:a.publications.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:g(()=>[...t[20]||(t[20]=[l(" Next ",-1)])]),_:1},8,["href"])):c("",!0)]),e("div",Pe,[e("div",null,[e("p",Be,[t[21]||(t[21]=l(" Showing ",-1)),e("span",Se,i(a.publications.from),1),t[22]||(t[22]=l(" to ",-1)),e("span",$e,i(a.publications.to),1),t[23]||(t[23]=l(" of ",-1)),e("span",Ae,i(a.publications.total),1),t[24]||(t[24]=l(" results ",-1))])]),e("div",null,[e("nav",Te,[(o(!0),n(S,null,$(a.publications.links,s=>(o(),w(u(p),{key:s.label,href:s.url||"#",innerHTML:s.label,class:_(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",[s.active?"z-10 bg-[#4D9F95] border-[#4D9F95] text-white":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",s.url===null?"cursor-not-allowed opacity-50":"cursor-pointer"]])},null,8,["href","innerHTML","class"]))),128))])])])])])):c("",!0)]),C.value?(o(),n("div",Ve,[e("div",Ne,[e("div",ze,[t[26]||(t[26]=e("div",{class:"flex items-center mb-4"},[e("div",{class:"flex-shrink-0 w-10 h-10 mx-auto bg-red-100 rounded-full flex items-center justify-center"},[e("svg",{class:"w-6 h-6 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})])])],-1)),e("div",Ue,[t[25]||(t[25]=e("h3",{class:"text-lg font-medium text-gray-900 mb-2"}," Delete Publication ",-1)),e("p",He,' Are you sure you want to delete "'+i(f.value?.title)+'"? This action cannot be undone. ',1),e("div",{class:"flex space-x-3 justify-center"},[e("button",{onClick:E,type:"button",class:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500"}," Delete "),e("button",{onClick:P,type:"button",class:"px-4 py-2 bg-gray-300 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-500"}," Cancel ")])])])])])):c("",!0)]),_:1},8,["user"]))}};export{qe as default};
